name: Pipeline
on:
  push:
    branches: main

jobs:
  ubuntu:
    name: Ubuntu
    uses: legleux/failure/.github/workflows/ubuntu.yml@main

  macos:
    name: macOS
    uses: legleux/failure/.github/workflows/macos.yml@main

  deploy:
    name: Deploy
    needs: ['ubuntu', 'macos']
    uses: legleux/failure/.github/workflows/deploy.yml@main
